language: c
compiler:
  - gcc
script: bash "${BUILDSCRIPT}" "${BUILDNAME}" "${BUILDOPTIONS}" "makefile" "-DUSE_LTM -DLTM_DESC -I/usr/include" "/usr/lib/libtommath.a"
env:
  - BUILDSCRIPT="run.sh"        BUILDNAME="STOCK"                       BUILDOPTIONS=" "
  - BUILDSCRIPT="run.sh"        BUILDNAME="SMALL"                       BUILDOPTIONS="-DLTC_SMALL_CODE"
  - BUILDSCRIPT="run.sh"        BUILDNAME="NOTABLES"                    BUILDOPTIONS="-DLTC_NO_TABLES"
  - BUILDSCRIPT="run.sh"        BUILDNAME="SMALL+NOTABLES"              BUILDOPTIONS="-DLTC_SMALL_CODE -DLTC_NO_TABLES"
  - BUILDSCRIPT="run.sh"        BUILDNAME="CLEANSTACK"                  BUILDOPTIONS="-DLTC_CLEAN_STACK"
  - BUILDSCRIPT="run.sh"        BUILDNAME="CLEANSTACK+SMALL"            BUILDOPTIONS="-DLTC_SMALL_CODE -DLTC_CLEAN_STACK"
  - BUILDSCRIPT="run.sh"        BUILDNAME="CLEANSTACK+NOTABLES"         BUILDOPTIONS="-DLTC_NO_TABLES -DLTC_CLEAN_STACK"
  - BUILDSCRIPT="run.sh"        BUILDNAME="CLEANSTACK+NOTABLES+SMALL"   BUILDOPTIONS="-DLTC_NO_TABLES -DLTC_CLEAN_STACK -DLTC_SMALL_CODE"
  - BUILDSCRIPT="run.sh"        BUILDNAME="NO_FAST"                     BUILDOPTIONS="-DLTC_NO_FAST"
  - BUILDSCRIPT="run.sh"        BUILDNAME="NO_FAST+NOTABLES"            BUILDOPTIONS="-DLTC_NO_FAST -DLTC_NO_TABLES"
  - BUILDSCRIPT="run.sh"        BUILDNAME="NO_ASM"                      BUILDOPTIONS="-DLTC_NO_ASM"
  - BUILDSCRIPT="testbuild.sh"  BUILDNAME="NOTEST"                      BUILDOPTIONS="-DLTC_NO_TEST"
  - BUILDSCRIPT="testbuild.sh"  BUILDNAME="NOFILE"                      BUILDOPTIONS="-DLTC_NO_TEST"
matrix:
  fast_finish: true
branches:
  only:
    - develop
before_script:
  - sudo apt-get install libtommath-dev
after_script:
  - cat gcc_2.txt
notifications:
  irc: "chat.freenode.net#libtom"
